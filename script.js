var 시가 = [34767.2,34828.6,34837.8,34782.9,34845.5,34914.1,35085.7,35093.1,35175.3,35186.5,35191,35174.8,35186.5,35235,35257.2,35269.2,35171.6,35099.3,35147.3,35152.7,35167.5,35200.9,35289.6,35230.7,35265,35176.9,35193.6,35277.9,35285.3,35274.9,35216.9,35154.8,35174.3,35260.8,35210.9,35167.3,35167.1,35222.4,35208.8,35220.1,35278,35249.7,35279.4,35347,35365.3,35438.8,35338.9,35253.2,35235.8,35191.8,35164,35119.9,35223.6,35231.3,35103.9,35149,35174.1,35212.3,35231.2,35241.2,35315.8,35179.9,35114.4,35035.3,35099.3,35279.5,35213.7,35204.4,35226,35141.4,35099.7,35198.9,35265.9,35209.4,35207.1,35286.3,35345.7,35396.6,35389.1,35438.9,35354.1,35286.6,35395.9,35394.8,35417.2,35387.9,35403.9,35446.8,35412.3,35392,35432,35400.3,35465,35466.8,35452.6,35439.5,35361.9,35284.4,35289.5,35305.2,35302,35199.2,35300,35358.9,35204,35020.4,35022.3,34946,34941.6,35021.6,35110.6,35135.6,35097.7,35197.7,35238.4,35237.6,35196,35098,35155.1,35141.1,35229.4,35154.5,35156.6,35127.8,35297.2,35408.8,35439.3,35377,35379,35411.8,35442.5,35395.7,35391.3,35488.4,35457.2,35473.3,35507,35606.3,35756.2,35790.2,35822.6,35868.3,35786.3,35813.9,35907.4,35887.7,35885.4,35887.1,35872,35904.8,35902.7,35868.9,35839.8,35802.7,35843.4,35827.4,35736.3,35724.3,35772.6,35837.7,35893.6,35849.8,35926.8,35927.2,35913.4,35884.7,35875.5,35849.1,35832.5,35880.4,35934.8,35895.9,35811.8,36037.8,36153.7,36144.9,36132.5,36182,36192.4,36189.2,36263.2,36261.7,36240,36288.5,36280.2,36317.1,36334.5,36185.9,36201.7,36177.5,36137.2,36094.3,36159.9,36137.2,36207,36228.9,36237.8,36143.9,36069.1,36249.5,36253.1,36129.3,36166.9,36230.3,36236.8,36223.7,36217.1,36210.5,36207.8,36176.7,36227.3,36232.4,36192.4,36241.8,36233,36154.5,36154.2,36104.9,36078.6,36172.4,36151,36245.2,36334,36467.2,36429.1,36423.5,36402.7,36425.7,36454.7,36457,36489.1,36478.9,36514.2,36488.7,36464.6,36510,36525,36557.7,36515.2,36528,36582.7,36584,36482.4,36515.2,36492.3,36544.1,36584.3,36572.4,36566,36562.2,36637.4,36649.5,36679.4,36636.7,36658.3,36651.5,36612.6,36628.1,36611.8,36578.8,36569.9,36611.1,36508.4,36515.8,36513.6,36531.9,36557.5,36604.4,36662.9,36624.9,36677.6,36708.5,36715.8,36719.1,36714.9,36757.6,36803.4,36772.3,36774.4,36756.1,36777.3,36822.5,36851.7,36841.9,36850.2,36833.5,36855.9,36835.5,36811.3,36826.3,36836.5,36857,36878.7,36887.5,36893.9,36904.1,36888.6,36916.2,36902.9,36989.9,36859.1,36869.1,36882.2,36892.5,36890.1,36894.5,36949.4,36980,36967.1,36948.7,36908.3,36978.7,36978.8,37011.7,37010.1,37055.7,37045.4,37023.1,37008.1,36950.7,36948.6,36913.6,36868.1,36811.2,36825.5,36824.9,36846.8,36868.1,36878.7,36880.8,36879.6,36889.4,36894.8,36902.4,36962.3,36904.5,36953.1,36953.7,36977.5,36960.3,36977.9,36953.5,36943.7,36923.2,36924.7,36951.1,36946.1,36993.5,36956.2,36965.9,37014.9,37085.6,37141.2,37157.5,37136.1,37220.4,37096.3,36956.9,36867.1,36901.4,36902.6,36943.9,36977,36970.9,36852.1,36899.4,36716.2,36285,36201.1,36150.5,36147.6,36138,36071.8,36157.6,36108.8,36107.1,35993.6,35943.6,35869.7,35842.8,35808.8,35792,35685.9,35705.8,35790,35835.8,35983.2,35958.4,35927.4,36228.4,36297.7,36351.5,36383.8,36404.5,36411.6,36387.9,36366.3,36314.7,36303.1,36331,36357.1,36362.5,36405.5,36417.1,36443.2,36465.7,36478.7,36503,36527.2,36481.2,36459.9,36450.6,36483.4,36430.3,36399.9,36396.3,36386.6,36362.5,36367.5,36346.1,36376.6,36376.2,36311.6,36338.6,36309.9,36352.8,36377.4,36398.1,36401.6,36420.3,36348.6,36344.2,36332.4,36403.3,36410.2,36480.8,36539.4,36583.1,36575.9,36398,36431.3,36469,36451.5,36431.1,36406.6,36357.4,36304.7,36278.2,36283.1,36302.4,36324.7,36319.6,36303.8,36303.9,36337.9,36345.7,36344,36364,36338.8,36346.3,36347.9,36334.4,36348.9,36385.2,36412.2,36462.7,36466.3,36480.6,36463.3,36481.4,36550.3,36569.8,36550.3,36463.3,34857.1];


var cvs = document.querySelectorAll('#cvs')[0];
var ctx = cvs.getContext('2d');
var cvs1 = document.querySelectorAll('#cvs1')[0];
var ctx1 = cvs1.getContext('2d');
var cvs2 = document.querySelectorAll('#cvs2')[0];
var ctx2 = cvs2.getContext('2d');


ctx.beginPath();
ctx.moveTo(1000,500);
for(let i=0; i<시가.length-1; i++){
	ctx.lineTo(1000-2*i,500-(시가[i]-35000)*0.2);
}
ctx.stroke();

ctx.strokeStyle = "blue";
for(let x=0; x<500; x+=37.7){
	ctx.beginPath();
	ctx.moveTo(1000-x*2,0);
	ctx.lineTo(1000-x*2,1000);
	ctx.stroke();
}


var result = document.querySelectorAll("#result")[0];
var show = function(r){result.innerText=r;};

var S_xy=0, S_x2=0, S_x=0, S_y=0, S_1=시가.length-1;

for(let i=0; i<시가.length-1; i++){
	S_xy += i*시가[i];
	S_x2 += i**2;
	S_x += i;
	S_y += 시가[i];
}
var a = (-S_x*S_y+S_1*S_xy)/(S_x2*S_1-S_x**2);
var b = (-S_x2*S_y+S_x*S_xy)/(S_x**2-S_x2*S_1);
show(a+", "+b);

ctx.strokeStyle="red";
ctx.beginPath();
ctx.moveTo(1000,500);
for(let i=0; i<시가.length-1; i++){
	ctx.lineTo(1000-2*i,500-(a*i+b-35000)*0.2);
}
ctx.stroke();

ctx1.beginPath();
ctx1.moveTo(1000,500);
for(let i=0; i<시가.length-1; i++){
	ctx1.lineTo(1000-2*i,500-(시가[i]-(a*i+b))*0.5);
}
ctx1.stroke();

ctx1.strokeStyle = "blue";
for(let x=0; x<500; x+=37.7){
	ctx1.beginPath();
	ctx1.moveTo(1000-x*2,0);
	ctx1.lineTo(1000-x*2,1000);
	ctx1.stroke();
}

var arr=[];
ctx2.beginPath();
ctx2.moveTo(1000,500);
for(let f=0.01; f<10; f+=0.01){
	let temp = JSON.parse(JSON.stringify(시가));
	let sum=0;
	for(let t=0; t<temp.length; t++){
		sum += temp[t]*Math.cos(f*t)
	}
	if(Math.abs(sum/temp.length)>5000){
		arr.push([f, sum/temp.length]);
	}
	ctx2.lineTo(f*90+50,500-sum/temp.length*0.05);
}
ctx2.stroke();

ctx2.strokeStyle = "red";
for(let x=0; x<140; x+=20){
	ctx2.beginPath();
	ctx2.moveTo(x*9+50,0);
	ctx2.lineTo(x*9+50,1000);
	ctx2.stroke();
}

